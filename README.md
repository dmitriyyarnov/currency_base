# USDTrackPy
Проект для **сбора, хранения, анализа и предоставления курса USD с сайта ЦБ РФ на Python**.
## **Что делает проект**
1. **Сбор данных (скрапинг)**  
   - `scraper/scraper.py` получает текущий курс USD с сайта ЦБ РФ.  
   - Сохраняет данные в JSON-файл в папке `data/` (например: `data/2025-09-22.json`).  

2. **Автоматизация через Prefect**  
   - `flow/usd_flow.py` запускает скрапер автоматически.

3. **Анализ и визуализация**
   -  analysis/plot.py строит график динамики курса USD с помощью matplotlib.
   -  График отображается в отдельном окне matplotlib.
4. **API** для получения исторических курсов USD из JSON-файлов (data/).
   - Параметры: limit (1–100, по умолчанию 10), sort (asc/desc, по умолчанию desc)

### Установка зависимостей
    pip install -r requirements.txt

### Сбор первого курса USD
    python scraper/scraper.py

### Автоматический запуск
    python flow/usd_flow.py
Flow будет запускаться каждый день в указанное время. В скрипте время задано так: schedule.every().day.at("00:00").do(run_flow)
Скрипт должен работать постоянно, чтобы расписание выполнялось.

### Построение графика
    python analysis/plot.py
График динамики курса USD откроется в отдельном окне matplotlib.

### Rates API
API на FastAPI для получения исторических курсов USD из JSON-файлов (`data/`). 
Запуск:  
     
    uvicorn app.main:app --reload
Доступно на 'http://127.0.0.1:8000'
Эндпоинт: `GET /rates`  
Параметры: `limit` (1–100, по умолчанию 10), `sort` (`asc`/`desc`, по умолчанию `desc`)  
Пример: 'http://127.0.0.1:8000/rates', 'GET http://127.0.0.1:8000/rates?limit=5&sort=desc'
Swagger UI: 'http://127.0.0.1:8000/docs'




